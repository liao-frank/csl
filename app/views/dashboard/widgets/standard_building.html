<div class="animation fill-space standard-building">
	<span>Per <span class="time-period">..</span>, a standard building</span>
	<h3 class="header" style="margin-top: 5px;">
		consumes <span class="stat">...</span>&nbsp;kWh
	</h3>
	<div style="
		width: fit-content;
		margin: 0 auto;
		padding-right: 10px;">
		<style>
			.standard-building svg {
				position: relative;
				bottom: 7px;
				width: 175px;
			}
			.standard-building .bolt {
				opacity: 0;
				animation-name: flash;
				animation-duration: 2s;
				animation-iteration-count: infinite;
				animation-timing-function: linear;
			}
			.standard-building .bolt.bolt-active {
				opacity: 1;
			}
		</style>
		<svg id="5f6d39ec-8ea1-49e9-9d89-baae23b778a4" viewBox="0 0 122.32 99.39">
			<defs>
				<style>
					.\37 842f60d-0287-493e-978b-dd9db379edf1 {
						fill: #c1c1c1;
					}

					.\38 1b0f194-b0c6-4a76-a1e4-32302536e4bb {
						fill: #666;
					}

					.d5aa66dd-bfc4-4b5a-a621-3eddbd22e133 {
						fill: #5e5e5e;
					}

					.\33 e5cca51-5357-4095-b6b7-1e83735070d1 {
						fill: #6c6c6c;
					}

					.\35 3515cba-fc8e-4f55-b541-5df1dbe37e65 {
						fill: #515151;
					}

					.\32 18d547a-9ae5-425a-9963-f5f2710e9791 {
						fill: #565656;
					}

					.\31 62b4b26-e36a-4f1f-ae14-a2c519373a82 {
						fill: #fff;
					}

					.a3f7fbb6-0876-4321-92b7-c2bd7a8a10dd {
						fill: #a9c497;
					}

					.\33 215b9d4-059c-4195-af2b-b70e3d916244 {
						fill: #7f9371;
					}

					.\35 dff3987-c643-4472-961b-b19e24dc19ad {
						fill: #bcbcbc;
					}

					.\35 1092438-b896-4d70-9081-e64806f30dd2 {
						fill: #454545;
					}

					.b01081cb-c4a7-4c0d-ab51-58d7b9a27ca2 {
						fill: #c3a589;
					}

					.ad9e37b5-5852-44fb-930e-94b83bf22726 {
						fill: #927c67;
					}

					.\31 2e8007e-0231-47f2-8196-291d1b47712e {
						fill: #dbc9b8;
					}

					.\36 85425e4-c457-4026-b30a-78d386ec763e {
						fill: #dcdcdc;
					}

					.\32 7c54648-f4aa-483d-a44e-9e367670b29f {
						fill: #a7a7a7;
					}
				</style>
			</defs>
			<g>
				<g>
					<path class="7842f60d-0287-493e-978b-dd9db379edf1" d="M57.77,9.13a.62.62,0,0,0-.62.62l0,4.71h1.24V9.75A.62.62,0,0,0,57.77,9.13Z"/>
					<path class="7842f60d-0287-493e-978b-dd9db379edf1" d="M64.37,9.1a.63.63,0,0,0-.62.63v4.7H65l0-4.71A.62.62,0,0,0,64.37,9.1Z"/>
				</g>
				<g>
					<polygon class="81b0f194-b0c6-4a76-a1e4-32302536e4bb" points="60.13 27.5 60.24 53.03 62.24 52.04 62.13 27.49 60.13 27.5"/>
					<polygon class="d5aa66dd-bfc4-4b5a-a621-3eddbd22e133" points="62.74 23.8 59.5 23.81 56.25 20.31 65.96 20.28 62.74 23.8"/>
					<rect class="81b0f194-b0c6-4a76-a1e4-32302536e4bb" x="56.25" y="15.46" width="9.71" height="4.83" transform="translate(-0.06 0.22) rotate(-0.2)"/>
					<rect class="81b0f194-b0c6-4a76-a1e4-32302536e4bb" x="55.26" y="14.44" width="11.66" height="2.03" transform="translate(-0.05 0.21) rotate(-0.2)"/>
					<polygon class="81b0f194-b0c6-4a76-a1e4-32302536e4bb" points="62.53 27.49 59.73 27.5 59.5 23.81 62.74 23.8 62.53 27.49"/>
					<polygon class="d5aa66dd-bfc4-4b5a-a621-3eddbd22e133" points="60.13 27.5 62.13 27.49 62.14 28.71 60.13 27.5"/>
					<polygon class="d5aa66dd-bfc4-4b5a-a621-3eddbd22e133" points="61.09 16.47 65.95 16.46 65.95 17.49 61.09 16.47"/>
				</g>
			</g>
			<polygon id="1447b3ae-b53d-4c20-ae86-8d222586fd64" class="bolt three" points="84.48 20.46 94.83 21.69 81.28 16.48 81.21 18.76 70.86 17.54 84.41 22.75 84.48 20.46" style="fill: #e8dc00"/>
			<polygon id="6c050ffa-f21b-4486-8c4c-d07838bf268f" class="bolt one bolt-active" points="83.62 4.4 92.56 0 78.99 2.86 80.12 4.73 71.18 9.12 84.75 6.26 83.62 4.4" style="fill: #e8dc00"/>
			<polygon id="fa331aef-96c7-4a2c-81d2-9b01823a032a" class="bolt two" points="37.18 4.39 26.83 3.17 40.38 8.38 40.45 6.09 50.8 7.32 37.25 2.11 37.18 4.39" style="fill: #e8dc00"/>
			<polygon id="36deccbb-7545-4710-b711-c4a67f36cfc2" class="bolt four" points="37.51 20.81 28.36 25.31 42.25 22.38 41.09 20.47 50.24 15.97 36.35 18.9 37.51 20.81" style="fill: #e8dc00"/>
			<g>
				<rect class="3e5cca51-5357-4095-b6b7-1e83735070d1" x="57.21" y="35.21" width="7.93" height="10.39"/>
				<g>
					<polygon class="3e5cca51-5357-4095-b6b7-1e83735070d1" points="4.24 65.63 4.24 99.31 118.08 99.31 118.08 65.63 61.16 47.6 4.24 65.63"/>
					<polygon class="53515cba-fc8e-4f55-b541-5df1dbe37e65" points="61.16 44.13 4.24 62.21 4.24 65.63 61.16 47.6 118.08 65.63 118.08 62.21 61.16 44.13"/>
				</g>
				<g>
					<rect class="218d547a-9ae5-425a-9963-f5f2710e9791" x="52.76" y="57.53" width="16.81" height="4.44"/>
					<rect class="162b4b26-e36a-4f1f-ae14-a2c519373a82" x="53.91" y="58.45" width="6.6" height="2.59"/>
					<rect class="162b4b26-e36a-4f1f-ae14-a2c519373a82" x="61.83" y="58.45" width="6.6" height="2.59"/>
				</g>
				<g>
					<rect class="218d547a-9ae5-425a-9963-f5f2710e9791" x="73" y="57.53" width="16.81" height="4.44"/>
					<rect class="162b4b26-e36a-4f1f-ae14-a2c519373a82" x="74.15" y="58.45" width="6.6" height="2.59"/>
					<rect class="162b4b26-e36a-4f1f-ae14-a2c519373a82" x="82.08" y="58.45" width="6.6" height="2.59"/>
				</g>
				<g>
					<rect class="218d547a-9ae5-425a-9963-f5f2710e9791" x="32.57" y="57.53" width="16.81" height="4.44"/>
					<rect class="162b4b26-e36a-4f1f-ae14-a2c519373a82" x="33.72" y="58.45" width="6.6" height="2.59"/>
					<rect class="162b4b26-e36a-4f1f-ae14-a2c519373a82" x="41.65" y="58.45" width="6.6" height="2.59"/>
				</g>
				<g>
					<polygon class="a3f7fbb6-0876-4321-92b7-c2bd7a8a10dd" points="61.16 40.14 1.43 59.42 1.43 63.6 61.16 44.33 61.16 40.14 61.16 40.14"/>
					<polygon class="3215b9d4-059c-4195-af2b-b70e3d916244" points="61.16 40.14 61.16 44.33 120.89 63.6 120.89 59.42 61.16 40.14"/>
				</g>
				<rect class="5dff3987-c643-4472-961b-b19e24dc19ad" y="92.65" width="122.32" height="6.66"/>
				<rect class="a3f7fbb6-0876-4321-92b7-c2bd7a8a10dd" x="8.99" y="66.95" width="104.33" height="4.46"/>
				<g>
					<rect class="51092438-b896-4d70-9081-e64806f30dd2" x="23.3" y="71.41" width="18.26" height="21.25"/>
					<rect class="3215b9d4-059c-4195-af2b-b70e3d916244" x="12.6" y="71.41" width="10.78" height="21.25"/>
					<rect class="3215b9d4-059c-4195-af2b-b70e3d916244" x="41.56" y="71.41" width="10.78" height="21.25"/>
				</g>
				<g>
					<rect class="51092438-b896-4d70-9081-e64806f30dd2" x="80.68" y="71.41" width="18.26" height="21.25"/>
					<rect class="3215b9d4-059c-4195-af2b-b70e3d916244" x="69.98" y="71.41" width="10.78" height="21.25"/>
					<rect class="3215b9d4-059c-4195-af2b-b70e3d916244" x="98.94" y="71.41" width="10.78" height="21.25"/>
				</g>
				<rect class="b01081cb-c4a7-4c0d-ab51-58d7b9a27ca2" x="91.03" y="88.69" width="7.91" height="3.96"/>
				<rect class="ad9e37b5-5852-44fb-930e-94b83bf22726" x="66.02" y="88.69" width="7.91" height="3.96"/>
				<rect class="b01081cb-c4a7-4c0d-ab51-58d7b9a27ca2" x="58.11" y="88.69" width="7.91" height="3.96"/>
				<rect class="ad9e37b5-5852-44fb-930e-94b83bf22726" x="26.79" y="88.69" width="7.91" height="3.96"/>
				<rect class="b01081cb-c4a7-4c0d-ab51-58d7b9a27ca2" x="26.79" y="84.73" width="7.91" height="3.96"/>
				<rect class="12e8007e-0231-47f2-8196-291d1b47712e" x="62.06" y="84.73" width="7.91" height="3.96"/>
				<rect class="ad9e37b5-5852-44fb-930e-94b83bf22726" x="91.03" y="84.73" width="7.91" height="3.96"/>
				<rect class="12e8007e-0231-47f2-8196-291d1b47712e" x="91.03" y="80.77" width="7.91" height="3.96"/>
				<rect class="ad9e37b5-5852-44fb-930e-94b83bf22726" x="83.11" y="88.69" width="7.91" height="3.96"/>
				<g>
					<rect class="685425e4-c457-4026-b30a-78d386ec763e" x="97.06" y="82.75" width="3.33" height="9.9"/>
					<rect class="27c54648-f4aa-483d-a44e-9e367670b29f" x="100.4" y="82.75" width="3.33" height="9.9"/>
				</g>
				<g>
					<rect class="685425e4-c457-4026-b30a-78d386ec763e" x="105.56" y="89.49" width="3.33" height="9.9"/>
					<rect class="27c54648-f4aa-483d-a44e-9e367670b29f" x="108.9" y="89.49" width="3.33" height="9.9"/>
				</g>
				<rect class="53515cba-fc8e-4f55-b541-5df1dbe37e65" x="55.86" y="32.99" width="10.62" height="3.7"/>
			</g>
		</svg>
		<script>
			(function() {
				let	$stat = $('.stat').last(),
					$time_period = $('.time-period').last();
				socket.on('get_data', (obj) => {
					if (obj.widget && obj.widget.title == 'energy_consumption') {
						if (obj.err) log('error loading widget', obj);
						else {
							// change text
							let output = prettyNumber(Math.round(obj.widget.data * 4.981));
							$stat.text(output || '---');
							// change time period
							let	type = obj.widget.data_label,
								time_period_text = type.match(/(year|month|week)/);
							$time_period.text(time_period_text ? time_period_text[1] : '--');
							if (time_period_text) {
								let $standard_building = $('.standard-building');
								$('.standard-building .bolt').removeClass('bolt-active');
								if (time_period_text[1] == 'year') {
									$standard_building.find('.bolt.three').addClass('bolt-active');
									$standard_building.find('.bolt.four').addClass('bolt-active');
									$standard_building.find('.bolt.two').addClass('bolt-active');
									$standard_building.find('.bolt.one').addClass('bolt-active');
								}
								if (time_period_text[1] == 'month') {
									$standard_building.find('.bolt.two').addClass('bolt-active');
									$standard_building.find('.bolt.one').addClass('bolt-active');
								}
								if (time_period_text[1] == 'week') {
									$standard_building.find('.bolt.one').addClass('bolt-active');
								}
							}
						}
					}
				});
				function prettyNumber(n) {
					if (!n) return null;
					let	output = n.toString().split('').reverse(),
						start = 3;
					while (start < output.length) {
						output.splice(start, 0, ',');
						start += 4;
					}
					return output.reverse().join('');
				}
			})();
		</script>
	</div>
</div>